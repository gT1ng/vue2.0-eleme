webpackJsonp([1],{"23Mw":function(t,s){},"34KM":function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("7+uW"),a=e("mtWM"),n=e.n(a),r={props:{score:{type:Number},size:{type:Number}},computed:{grayStar:function(){return parseInt(5-this.score)},yellowStar:function(){return parseInt(this.score)},halfStar:function(){return this.grayStar+this.yellowStar===5?0:1},starList:function(){for(var t=[],s=0;s<this.yellowStar;s++)t.push("yellowStar");for(var e=0;e<this.halfStar;e++)t.push("halfStar");for(var i=0;i<this.grayStar;i++)t.push("grayStar");return t},starClass:function(){return"star-"+this.size}}},o={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{},[s("div",{staticClass:"star-wrapper",class:this.starClass},this._l(this.starList,function(t,e){return s("span",{key:e,staticClass:"star",class:t})}),0)])},staticRenderFns:[]};var l=e("VU/8")(r,o,!1,function(t){e("z400")},null,null).exports,c={components:{vStar:l},props:["seller"],methods:{hideDetail:function(){this.$parent.showDiscount()}}},v={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"discount-container"},[e("div",{staticClass:"discount-wrapper"},[e("h1",{staticClass:"name"},[t._v(t._s(t.seller.name))]),t._v(" "),e("vStar",{staticClass:"star",attrs:{score:t.seller.foodScore,size:"24"}}),t._v(" "),t._m(0),t._v(" "),e("ul",{staticClass:"discount-list"},t._l(t.seller.supports,function(s,i){return e("li",{key:i},[e("span",{staticClass:"icon",class:"icon"+s.type,attrs:{alt:""}}),t._v(" "),e("span",{staticClass:"desciption"},[t._v(t._s(s.description))])])}),0),t._v(" "),t._m(1),t._v(" "),e("p",{staticClass:"bulletin"},[t._v(t._s(t.seller.bulletin))])],1),t._v(" "),e("div",{staticClass:"detail-close",on:{click:t.hideDetail}},[e("i",{staticClass:"icon-close"})])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),this._v(" "),s("div",{staticClass:"text"},[this._v("优惠信息")]),this._v(" "),s("div",{staticClass:"line"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),this._v(" "),s("div",{staticClass:"text"},[this._v("商家公告")]),this._v(" "),s("div",{staticClass:"line"})])}]};var u={components:{discount:e("VU/8")(c,v,!1,function(t){e("sBjD")},null,null).exports},data:function(){return{seller:{},description:"",type:0,ifShowDiscount:!1}},created:function(){this.getSeller()},mounted:function(){},methods:{getSeller:function(){var t=this;n.a.get("/api/seller").then(function(s){t.seller=s.data.data,t.description=s.data.data.supports[0].description,t.type=s.data.data.supports[0].type})},showDiscount:function(){this.ifShowDiscount=!this.ifShowDiscount}}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"header"},[e("div",{staticClass:"container-wrapper"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.seller.avatar,alt:""}})]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[e("span",{staticClass:"brand"}),t._v(" "),e("span",{staticClass:"name"},[t._v(t._s(t.seller.name))])]),t._v(" "),e("div",{staticClass:"description"},[t._v("\r\n                    "+t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达\r\n                ")]),t._v(" "),e("div",{staticClass:"sale"},[e("span",{staticClass:"icon",class:"icon"+t.type,attrs:{alt:""}}),t._v(" "),e("span",{staticClass:"price"},[t._v(t._s(t.description))])])]),t._v(" "),e("div",{staticClass:"supports",on:{click:t.showDiscount}},[t._v("5个 >")])]),t._v(" "),e("div",{staticClass:"notice"},[e("span",{staticClass:"icon"}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.seller.bulletin))]),t._v(" "),e("span",{staticClass:"more",on:{click:t.showDiscount}},[t._v(">")])]),t._v(" "),e("div",{staticClass:"background"},[e("img",{attrs:{src:t.seller.avatar,width:"100%",height:"100%"}})])]),t._v(" "),t.ifShowDiscount?e("discount",{attrs:{seller:t.seller}}):t._e()],1)},staticRenderFns:[]};var p={name:"App",components:{vHeader:e("VU/8")(u,d,!1,function(t){e("sqpi")},null,null).exports},data:function(){return{jsonData:{},seller:{}}},created:function(){this.getSeller()},methods:{getSeller:function(){var t=this;n.a.get("/api/seller").then(function(s){t.seller=s.data.data})}}},h={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("vHeader"),t._v(" "),e("div",{staticClass:"tab-wrapper"},[e("router-link",{staticClass:"tab-item",attrs:{to:"/goods"}},[t._v("商品")]),t._v(" "),e("router-link",{staticClass:"tab-item",attrs:{to:"/ratings"}},[t._v("评价")]),t._v(" "),e("router-link",{staticClass:"tab-item",attrs:{to:"/seller"}},[t._v("商家")])],1),t._v(" "),e("router-view",{attrs:{seller:t.seller,"keep-alive":""}})],1)},staticRenderFns:[]};var f=e("VU/8")(p,h,!1,function(t){e("gQ0G")},null,null).exports,_=e("/ocq"),C=e("GQaK"),m={props:{food:{type:Object}},data:function(){return{count:0}},methods:{addNum:function(t){this.food.count?this.food.count++:this.$set(this.food,"count",1),this.$emit("drop",t.target)},increaseNum:function(){this.food.count--}}},g={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"count-wrapper"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-decrease",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.increaseNum(s)}}},[e("span",{staticClass:"inner icon-remove_circle_outline"})])]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.food.count,expression:"food.count"}],staticClass:"num"},[t._v(t._s(t.food.count))]),t._v(" "),e("span",{staticClass:"cart-add icon-add_circle",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.addNum(s)}}})],1)},staticRenderFns:[]};var w=e("VU/8")(m,g,!1,function(t){e("j4qk")},null,null).exports,y={props:{selectList:{type:Array},minPrice:{type:Number,default:0},deliveryPrice:{type:Number,default:0}},data:function(){return{seller:{},ifShow:!1,enough:!1,balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[],fold:!0}},components:{vCount:w},created:function(){},methods:{showShopList:function(){0!==this.totalCount&&(this.ifShow=!this.ifShow)},hideShopList:function(){0!==this.totalCount&&(this.ifShow=!1)},pay:function(){this.totalPrice<this.minPrice||alert("支付"+this.totalPrice+"元")},clear:function(){this.selectList.forEach(function(t){t.count=0}),this.ifShow=!1},drop:function(t){console.log("drop");for(var s=0;s<this.balls.length;s++){var e=this.balls[s];if(!e.show)return e.show=!0,e.el=t,void this.dropBalls.push(e)}},beforeEnter:function(t){for(var s=this.balls.length;s--;){var e=this.balls[s];if(e.show){var i=e.el.getBoundingClientRect(),a=i.left-32,n=-(window.innerHeight-i.top-22);t.style.display="",t.style.webkitTransform="translate3d(0,"+n+"px,0)",t.style.transform="translate3d(0,"+n+"px,0)";var r=t.getElementsByClassName("inner-hook")[0];r.style.webkitTransform="translate3d("+a+"px,0,0)",r.style.transform="translate3d("+a+"px,0,0)"}}},enter:function(t){t.offsetHeight;this.$nextTick(function(){t.style.webkitTransform="translate3d(0,0,0)",t.style.transform="translate3d(0,0,0)";var s=t.getElementsByClassName("inner-hook")[0];s.style.webkitTransform="translate3d(0,0,0)",s.style.transform="translate3d(0,0,0)"})},afterEnter:function(t){var s=this.dropBalls.shift();s&&(s.show=!1,t.style.display="none")}},computed:{totalPrice:function(){var t=0;return this.selectList.forEach(function(s){t+=s.count*s.price}),t},totalCount:function(){var t=0;return this.selectList.forEach(function(s){t+=s.count}),0===t&&(this.ifShow=!1),t},payDesc:function(){return 0===this.totalPrice?(this.enough=!1,"￥"+this.minPrice+"起送"):this.totalPrice<this.minPrice?(this.enough=!1,"还差￥"+(this.minPrice-this.totalPrice)+"起送"):(this.enough=!0,"去结算")}},transitions:{drop:{beforeEnter:function(t){for(var s=this.balls.length;s--;){var e=this.balls[s];if(e.show){var i=e.el.getBoundingClientRect(),a=i.left-32,n=-(window.innerHeight-i.top-22);t.style.display="",t.style.webkitTransform="translate3d(0,"+n+"px,0)",t.style.transform="translate3d(0,"+n+"px,0)";var r=t.getElementsByClassName("inner-hook")[0];r.style.webkitTransform="translate3d("+a+"px,0,0)",r.style.transform="translate3d("+a+"px,0,0)"}}},enter:function(t){t.offsetHeight;this.$nextTick(function(){t.style.webkitTransform="translate3d(0,0,0)",t.style.transform="translate3d(0,0,0)";var s=t.getElementsByClassName("inner-hook")[0];s.style.webkitTransform="translate3d(0,0,0)",s.style.transform="translate3d(0,0,0)"})},afterEnter:function(t){var s=this.dropBalls.shift();s&&(s.show=!1,t.style.display="none")}}}},x={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"cart-container"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.ifShow,expression:"ifShow"}],staticClass:"cart-list"},[e("div",{staticClass:"head"},[e("span",{staticClass:"title"},[t._v("购物车")]),t._v(" "),e("span",{staticClass:"clear",on:{click:t.clear}},[t._v("清空")])]),t._v(" "),e("ul",{staticClass:"list-wrapper"},t._l(t.selectList,function(s,i){return e("li",{directives:[{name:"show",rawName:"v-show",value:s.count>0,expression:"item.count>0"}],key:i},[e("span",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("vCount",{staticClass:"count",attrs:{food:s}}),t._v(" "),e("span",{staticClass:"price"},[t._v("￥"),e("span",{staticClass:"num"},[t._v(t._s(s.price))])])],1)}),0)])]),t._v(" "),e("div",{staticClass:"ball-container"},t._l(t.balls,function(s,i){return e("transition",{key:i,attrs:{name:"drop"},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"ball.show"}],staticClass:"ball"},[e("div",{staticClass:"inner inner-hook"})])])}),1),t._v(" "),e("div",{staticClass:"cart-wrapper"},[e("div",{staticClass:"left",on:{click:t.showShopList}},[e("div",{staticClass:"icon",class:{highlight:t.totalPrice>0}},[e("i",{staticClass:"icon-shopping_cart"}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount,expression:"totalCount"}],staticClass:"count"},[t._v(t._s(t.totalCount))])]),t._v(" "),e("div",{staticClass:"price",class:{highlight:t.totalPrice>0}},[t._v("￥"+t._s(t.totalPrice))]),t._v(" "),e("div",{staticClass:"delivery-price"},[t._v("另需配送费￥"+t._s(t.deliveryPrice)+"元")])]),t._v(" "),e("div",{staticClass:"right min-price",class:{enough:t.enough},on:{click:t.pay}},[t._v("\r\n                "+t._s(t.payDesc)+"\r\n            ")])])],1),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.ifShow,expression:"ifShow"}],staticClass:"black",on:{click:t.hideShopList}})])],1)},staticRenderFns:[]};var S=e("VU/8")(y,x,!1,function(t){e("q4jn")},null,null).exports,k={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"split"})},staticRenderFns:[]};var T=e("VU/8")({},k,!1,function(t){e("NO6Q")},null,null).exports,b={props:{ratings:{type:Array,default:function(){return[]}}},data:function(){return{selectType:2,onlyContent:!1}},computed:{all:function(){var t=0;return this.ratings.forEach(function(s){t++}),t},positive:function(){var t=0;return this.ratings.forEach(function(s){1==s.rateType&&t++}),t},nagetive:function(){var t=0;return this.ratings.forEach(function(s){0==s.rateType&&t++}),t}},methods:{ifContent:function(t){this.onlyContent=!this.onlyContent,this.$emit("ifContent",this.onlyContent)},select:function(t){this.selectType=t,this.$emit("selectType",this.selectType)}}},N={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"control-wrapper"},[e("div",{staticClass:"type-wrapper"},[e("span",{staticClass:"rating-type positive",class:{active:2==t.selectType},on:{click:function(s){return t.select(2)}}},[t._v("\n           全部\n           "),e("span",{staticClass:"num"},[t._v(t._s(t.all))])]),t._v(" "),e("span",{staticClass:"rating-type positive",class:{active:0==t.selectType},on:{click:function(s){return t.select(0)}}},[t._v("\n           推荐\n           "),e("span",{staticClass:"num"},[t._v(t._s(t.positive))])]),t._v(" "),e("span",{staticClass:"rating-type nagetive",class:{active:1==t.selectType},on:{click:function(s){return t.select(1)}}},[t._v("\n           吐槽\n           "),e("span",{staticClass:"num"},[t._v(t._s(t.nagetive))])])]),t._v(" "),e("div",{staticClass:"switch",class:{active:t.onlyContent},on:{click:t.ifContent}},[e("span",{staticClass:"icon-check_circle"}),t._v(" "),e("span",{staticClass:"text"},[t._v("只看有内容的评论")])])])},staticRenderFns:[]};var L=e("VU/8")(b,N,!1,function(t){e("zBW+")},null,null).exports,$={components:{vSplit:T,vCount:w,vRatingsControl:L},props:{food:{type:Object}},data:function(){return{showFlag:!1,type:2}},methods:{show:function(){var t=this;this.showFlag=!0,this.onlyContent=!1,this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new C.a(t.$refs.food,{click:!0})})},back:function(){this.showFlag=!1},addNum:function(t){this.food.count||this.$set(this.food,"count",1)},ifContent:function(t){this.onlyContent=t},selectType:function(t){this.type=t},needShow:function(t,s){return!(this.onlyContent&&!s)&&(2==this.type||this.type==t)},getLocalTime:function(t){var s=new Date(t),e=s.getFullYear(),i=s.getMonth()+1,a=s.getDate(),n=s.getHours(),r=s.getMinutes(),o=s.getSeconds();return s=e+"-"+(i=i<10?"0"+i:i)+"-"+(a=a<10?"0"+a:a)+" "+n+":"+r+":"+o}}},E={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"showFlag"}],ref:"food",staticClass:"food-container"},[e("div",{staticClass:"food"},[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.food.image,alt:""}}),t._v(" "),e("div",{staticClass:"back",on:{click:t.back}},[e("i",{staticClass:"icon-arrow_lift"})])]),t._v(" "),e("div",{staticClass:"title"},[e("h1",{staticClass:"name"},[t._v(t._s(t.food.name))]),t._v(" "),e("span",{staticClass:"sell"},[t._v("月售"+t._s(t.food.sellCount)+"份 好评率"+t._s(t.food.rating)+"%")]),t._v(" "),e("div",{staticClass:"price"},[t._v("\r\n        ￥"+t._s(t.food.price)+"\r\n        "),e("span",{staticClass:"old-price"},[t._v(t._s(t.food.oldPrice))])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.food.count,expression:"!food.count"}],staticClass:"addCart",on:{click:t.addNum}},[t._v("加入购物车")]),t._v(" "),e("vCount",{directives:[{name:"show",rawName:"v-show",value:t.food.count,expression:"food.count"}],staticClass:"count",attrs:{food:t.food}})],1),t._v(" "),e("vSplit"),t._v(" "),e("div",{staticClass:"info"},[e("h1",{staticClass:"title"},[t._v("商品介绍")]),t._v(" "),e("p",{staticClass:"text"},[t._v(t._s(t.food.info))])]),t._v(" "),e("vSplit"),t._v(" "),e("div",{staticClass:"ratings"},[e("h1",{staticClass:"title"},[t._v("商品评价")]),t._v(" "),e("vRatingsControl",{attrs:{ratings:t.food.ratings},on:{ifContent:t.ifContent,selectType:t.selectType}}),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.food.ratings&&t.food.ratings.length,expression:"food.ratings && food.ratings.length"}],staticClass:"list-wrapper"},t._l(t.food.ratings,function(s,i){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.needShow(s.rateType,s.text),expression:"needShow(rating.rateType, rating.text)"}],key:i},[e("div",{staticClass:"content"},[e("span",{staticClass:"rateTime"},[t._v(t._s(t.getLocalTime(s.rateTime)))]),t._v(" "),e("img",{staticClass:"avatar",attrs:{src:s.avatar,alt:""}}),t._v(" "),e("span",{staticClass:"username"},[t._v(t._s(s.username))])]),t._v(" "),e("div",{staticClass:"text"},[e("span",{directives:[{name:"show",rawName:"v-show",value:0==s.rateType,expression:"rating.rateType==0"}],staticClass:"icon-thumb_up"}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:1==s.rateType,expression:"rating.rateType==1"}],staticClass:"icon-thumb_down"}),t._v("\r\n            "+t._s(s.text)+"\r\n          ")])])}),0)],1)],1)])},staticRenderFns:[]};var P=e("VU/8")($,E,!1,function(t){e("RWqN")},null,null).exports,F={name:"Goods",props:{seller:{type:Object}},components:{vCount:w,vShopCart:S,vFood:P},data:function(){return{msg:"Welcome to Your Vue.js App",goods:[],scrollY:0,rightLiTops:[],indexList:[],selectList:[],selectedFood:{},classMap:[]}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"],this.getInfo()},methods:{getInfo:function(){var t=this;n.a.get("/api/goods").then(function(s){t.goods=s.data.data;var e=0;t.indexList=[0];for(var i=0;i<t.goods.length;i++)e+=t.goods[i].foods.length,t.indexList.push(e)})},clickList:function(t){var s=this.indexList[t];console.log("indexItem:"+s),this.scrollY=this.rightLiTops[s],this.rightBscroll.scrollTo(0,-this.scrollY,200)},_initBScroll:function(){var t=this;this.leftBscroll=new C.a(this.$refs.navScroll,{click:!0}),this.rightBscroll=new C.a(this.$refs.contentScroll,{click:!0,probeType:3}),this.rightBscroll.on("scroll",function(s){t.scrollY=Math.abs(s.y)})},_initRightHeight:function(){var t=[],s=0;t.push(s);var e=this.$refs.contentScroll.getElementsByClassName("food-body");Array.prototype.slice.call(e).forEach(function(e){s+=e.clientHeight,t.push(s)}),this.rightLiTops=t},_initLeftScroll:function(t){var s=this.$refs.menuList[t];this.leftBscroll.scrollToElement(s,300,0,-300)},selectFood:function(t,s){s._constructed&&(this.selectedFood=t,this.$refs.foodCmp.show())},drop:function(t){var s=this;this.$nextTick(function(){s.$refs.shopcart.drop(t)})}},computed:{currentIndex:function(t){var s=this,e=this.scrollY,i=this.rightLiTops;return i.findIndex(function(t,a){return s._initLeftScroll(a),e>=t&&e<i[a+1]})},selectLists:function(){var t=[];return this.goods.forEach(function(s){s.foods.forEach(function(s){s.count&&t.push(s)})}),t}},watch:{goods:function(){var t=this;this.$nextTick(function(){t._initBScroll(),t._initRightHeight()})}}},R={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("div",{ref:"navScroll",staticClass:"nav"},[e("ul",t._l(t.goods,function(s,i){return e("li",{key:s.name,ref:"menuList",refInFor:!0,staticClass:"nav-item",class:{current:t.indexList[i]<=t.currentIndex&&t.indexList[i+1]>t.currentIndex},on:{click:function(s){return t.clickList(i)}}},[e("span",{staticClass:"nav-name"},[e("span",{directives:[{name:"show",rawName:"v-show",value:s.type>0,expression:"item.type>0"}],staticClass:"icon",class:t.classMap[s.type]}),t._v("\n          "+t._s(s.name)+"\n        ")])])}),0)]),t._v(" "),e("div",{ref:"contentScroll",staticClass:"content"},[e("ul",t._l(t.goods,function(s,i){return e("li",{key:s.name,staticClass:"foods-list",class:{current:t.indexList[i]===t.currentIndex}},[e("h1",{staticClass:"title"},[t._v(t._s(s.name))]),t._v(" "),e("ul",{staticClass:"food-wrapper"},t._l(s.foods,function(s){return e("li",{key:s.name,staticClass:"food-body",on:{click:function(e){return t.selectFood(s,e)}}},[e("div",{staticClass:"food-img"},[e("img",{attrs:{src:s.icon,width:"57",height:"57"}})]),t._v(" "),e("div",{staticClass:"food-content"},[e("div",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"description"},[t._v(t._s(s.description))]),t._v(" "),e("div",{staticClass:"rating"},[t._v("月售"+t._s(s.sellCount)+"份 好评率"+t._s(s.rating)+"%")]),t._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"extra"},[t._v("￥")]),t._v(" "),e("span",{staticClass:"num"},[t._v(t._s(s.price))]),t._v(" "),s.oldPrice?e("span",{staticClass:"old-price"},[t._v("￥"+t._s(s.oldPrice))]):t._e()])]),t._v(" "),e("vCount",{staticClass:"count",attrs:{food:s},on:{drop:t.drop}})],1)}),0)])}),0)]),t._v(" "),e("vShopCart",{ref:"shopcart",staticClass:"shop-cart",attrs:{selectList:t.selectLists,minPrice:t.seller.minPrice,deliveryPrice:t.seller.deliveryPrice}}),t._v(" "),e("vFood",{ref:"foodCmp",attrs:{food:t.selectedFood}})],1)},staticRenderFns:[]};var B=e("VU/8")(F,R,!1,function(t){e("r2aD")},null,null).exports,D={components:{vStar:l,vSplit:T,vRatingsControl:L},props:{seller:{type:Object}},data:function(){return{ratings:[],type:2,onlyContent:!1}},created:function(){this.getRatings()},methods:{getRatings:function(){var t=this;n.a.get("/api/ratings").then(function(s){t.ratings=s.data.data})},getLocalTime:function(t){var s=new Date(t),e=s.getFullYear(),i=s.getMonth()+1,a=s.getDate(),n=s.getHours(),r=s.getMinutes(),o=s.getSeconds();return s=e+"-"+(i=i<10?"0"+i:i)+"-"+(a=a<10?"0"+a:a)+" "+n+":"+r+":"+o},ifContent:function(t){this.onlyContent=t},selectType:function(t){this.type=t},needShow:function(t,s){return!(this.onlyContent&&!s)&&(2==this.type||this.type==t)}}},j={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{},[e("div",{staticClass:"rating-wrapper"},[e("div",{staticClass:"left"},[e("div",{staticClass:"num"},[t._v(t._s(t.seller.score))]),t._v(" "),e("div",{staticClass:"text"},[t._v("综合评分")]),t._v(" "),e("div",{staticClass:"percent"},[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),t._v(" "),e("dir",{staticClass:"right"},[e("div",{staticClass:"rating"},[e("span",{staticClass:"text"},[t._v("服务态度")]),t._v(" "),e("vStar",{staticClass:"star",attrs:{score:t.seller.serviceScore,size:12}}),t._v(" "),e("span",{staticClass:"score"},[t._v(t._s(t.seller.serviceScore))])],1),t._v(" "),e("div",{staticClass:"rating"},[e("span",{staticClass:"text"},[t._v("服务态度")]),t._v(" "),e("vStar",{staticClass:"star",attrs:{score:t.seller.foodScore,size:12}}),t._v(" "),e("span",{staticClass:"score"},[t._v(t._s(t.seller.foodScore))])],1),t._v(" "),e("div",{staticClass:"rating"},[e("span",{staticClass:"text"},[t._v("送达时间")]),t._v("\n        "+t._s(t.seller.deliveryTime)+"分钟\n      ")])])],1),t._v(" "),e("vSplit"),t._v(" "),e("div",{staticClass:"selectRating"},[e("vRatingsControl",{attrs:{ratings:t.ratings},on:{ifContent:t.ifContent,selectType:t.selectType}})],1),t._v(" "),e("ul",{staticClass:"ratings-wrapper"},t._l(t.ratings,function(s,i){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.needShow(s.rateType,s.text),expression:"needShow(rating.rateType, rating.text)"}],key:i,staticClass:"rating"},[e("img",{staticClass:"avatar",attrs:{src:s.avatar}}),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[e("span",{staticClass:"name"},[t._v(t._s(s.username))]),t._v(" "),e("span",{staticClass:"rateTime"},[t._v(t._s(t.getLocalTime(s.rateTime)))])]),t._v(" "),e("div",{staticClass:"time"},[e("vStar",{staticClass:"star",attrs:{score:s.score,size:10}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:s.deliveryTime,expression:"rating.deliveryTime"}],staticClass:"deliverytime"},[t._v(t._s(s.deliveryTime)+"分钟送到")])],1),t._v(" "),e("p",{staticClass:"text"},[t._v(t._s(s.text))]),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:s.recommend&&s.recommend.length,expression:"rating.recommend && rating.recommend.length"}],staticClass:"recommend-wrapper"},[e("span",{staticClass:"icon-thumb_up"}),t._v(" "),t._l(s.recommend,function(s,i){return e("li",{key:i,staticClass:"recommend"},[t._v("\n            "+t._s(s)+"\n          ")])})],2)])])}),0)],1)},staticRenderFns:[]};var M=e("VU/8")(D,j,!1,function(t){e("sQfz")},null,null).exports,z={components:{vSplit:T,vStar:l},props:{seller:{type:Object}},data:function(){return{}},watch:{seller:function(){var t=this;this.$nextTick(function(){t._initBScroll()})}},methods:{_initBScroll:function(){var t=this,s=126*this.seller.pics.length;this.$refs.picWrapper.style.width=s+"px",this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new C.a(t.$refs.pics,{startX:0,click:!0,scrollX:!0,scrollY:!1,eventPassthrough:"vertical"})})}}},H={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{},[e("div",{staticClass:"seller-wrapper"},[e("div",{staticClass:"title"},[t._v(t._s(t.seller.name))]),t._v(" "),e("div",{staticClass:"score"},[e("vStar",{staticClass:"star",attrs:{size:12,score:t.seller.score}}),t._v("\n      月售"+t._s(t.seller.sellCount)+"单\n    ")],1),t._v(" "),e("div",{staticClass:"label-wrapper"},[e("div",{staticClass:"delivery-wrapper"},[e("h1",{staticClass:"title"},[t._v("起送价")]),t._v(" "),e("div",{staticClass:"content"},[e("span",{staticClass:"high-text"},[t._v(t._s(t.seller.minPrice))]),t._v("元\n        ")])]),t._v(" "),e("div",{staticClass:"delivery-wrapper"},[e("h1",{staticClass:"title"},[t._v("商家配送")]),t._v(" "),e("div",{staticClass:"content"},[e("span",{staticClass:"high-text"},[t._v(t._s(t.seller.deliveryPrice))]),t._v("元\n        ")])]),t._v(" "),e("div",{staticClass:"delivery-wrapper"},[e("h1",{staticClass:"title"},[t._v("平均配送时间")]),t._v(" "),e("div",{staticClass:"content"},[e("span",{staticClass:"high-text"},[t._v(t._s(t.seller.deliveryTime))]),t._v("分钟\n        ")])])])]),t._v(" "),e("vSplit"),t._v(" "),e("div",{staticClass:"seller-wrapper"},[e("h1",{staticClass:"title"},[t._v("公告与活动")]),t._v(" "),e("p",{staticClass:"content"},[t._v(t._s(t.seller.bulletin))]),t._v(" "),t._l(t.seller.supports,function(s,i){return e("div",{key:i,staticClass:"dec-wrapper"},[e("span",{staticClass:"icon",class:"icon"+s.type,attrs:{alt:""}}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(s.description))])])})],2),t._v(" "),e("vSplit"),t._v(" "),e("div",{staticClass:"seller-wrapper"},[e("h1",{staticClass:"title"},[t._v("商家实景")]),t._v(" "),e("div",{ref:"pics"},[e("div",{ref:"picWrapper",staticClass:"pic-wrapper"},t._l(t.seller.pics,function(t,s){return e("img",{key:s,staticClass:"pic",attrs:{src:t}})}),0)])]),t._v(" "),e("vSplit"),t._v(" "),e("div",{staticClass:"seller-wrapper"},[e("h1",{staticClass:"title"},[t._v("商家信息")]),t._v(" "),t._l(t.seller.infos,function(s,i){return e("div",{key:i,staticClass:"info"},[t._v("\n      "+t._s(s)+"\n    ")])})],2)],1)},staticRenderFns:[]};var V=e("VU/8")(z,H,!1,function(t){e("23Mw")},null,null).exports;i.a.use(_.a);var U=new _.a({routes:[{path:"/goods",name:"goods",component:B},{path:"/ratings",name:"ratings",component:M},{path:"/seller",name:"seller",component:V}]});e("34KM");i.a.config.productionTip=!1,new i.a({el:"#app",router:U,components:{App:f},template:"<App/>"})},NO6Q:function(t,s){},RWqN:function(t,s){},gQ0G:function(t,s){},j4qk:function(t,s){},q4jn:function(t,s){},r2aD:function(t,s){},sBjD:function(t,s){},sQfz:function(t,s){},sqpi:function(t,s){},z400:function(t,s){},"zBW+":function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.ad3c0f2ce12e89ea5934.js.map